{"ast":null,"code":"import _classCallCheck from\"C:/Users/puchkov/Documents/GitHub/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/puchkov/Documents/GitHub/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Authorization=/*#__PURE__*/function(){function Authorization(_ref){var baseUrl=_ref.baseUrl;_classCallCheck(this,Authorization);this._url=baseUrl;}// Проверка\n_createClass(Authorization,[{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u0423 \\u043D\\u0430\\u0441 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));}// Регистрация\n},{key:\"register\",value:function register(data){return fetch(this._url+\"/signup\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:data.email,password:data.password})}).then(this._checkResponse);}// Авторизация\n},{key:\"login\",value:function login(data){return fetch(this._url+\"/signin\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:data.email,password:data.password})}).then(this._checkResponse);}// Проверка токена\n},{key:\"checkToken\",value:function checkToken(token){return fetch(this._url+\"/users/me\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)}}).then(this._checkResponse);}}]);return Authorization;}();var auth=new Authorization({baseUrl:\"https://rerasmesto.students.nomoredomains.monster/sign-in\"});export default auth;","map":{"version":3,"names":["Authorization","_ref","baseUrl","_classCallCheck","_url","_createClass","key","value","_checkResponse","res","ok","json","Promise","reject","concat","status","register","data","fetch","method","headers","body","JSON","stringify","email","password","then","login","checkToken","token","auth"],"sources":["C:/Users/puchkov/documents/github/react-mesto-api-full-gha/frontend/src/utils/Authorization.js"],"sourcesContent":["class Authorization {\r\n  constructor({ baseUrl }) {\r\n    this._url = baseUrl;\r\n  }\r\n\r\n  // Проверка\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`У нас ошибка ${res.status}`);\r\n  }\r\n\r\n  // Регистрация\r\n  register(data) {\r\n    return fetch(this._url + \"/signup\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ email: data.email, password: data.password }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  // Авторизация\r\n  login(data) {\r\n    return fetch(this._url + \"/signin\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ email: data.email, password: data.password }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  // Проверка токена\r\n  checkToken(token) {\r\n    return fetch(this._url + \"/users/me\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst auth = new Authorization({\r\n  baseUrl: \"https://rerasmesto.students.nomoredomains.monster/sign-in\",\r\n});\r\n\r\nexport default auth;\r\n"],"mappings":"+OAAM,CAAAA,aAAa,yBACjB,SAAAA,cAAAC,IAAA,CAAyB,IAAX,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAAAC,eAAA,MAAAH,aAAA,EACnB,IAAI,CAACI,IAAI,CAAGF,OAAO,CACrB,CAEA;AAAAG,YAAA,CAAAL,aAAA,GAAAM,GAAA,kBAAAC,KAAA,CACA,SAAAC,eAAeC,GAAG,CAAE,CAClB,GAAIA,GAAG,CAACC,EAAE,CAAE,CACV,MAAO,CAAAD,GAAG,CAACE,IAAI,CAAC,CAAC,CACnB,CACA,MAAO,CAAAC,OAAO,CAACC,MAAM,mEAAAC,MAAA,CAAiBL,GAAG,CAACM,MAAM,CAAE,CAAC,CACrD,CAEA;AAAA,GAAAT,GAAA,YAAAC,KAAA,CACA,SAAAS,SAASC,IAAI,CAAE,CACb,MAAO,CAAAC,KAAK,CAAC,IAAI,CAACd,IAAI,CAAG,SAAS,CAAE,CAClCe,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,KAAK,CAAEP,IAAI,CAACO,KAAK,CAAEC,QAAQ,CAAER,IAAI,CAACQ,QAAS,CAAC,CACrE,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAAClB,cAAc,CAAC,CAC9B,CAEA;AAAA,GAAAF,GAAA,SAAAC,KAAA,CACA,SAAAoB,MAAMV,IAAI,CAAE,CACV,MAAO,CAAAC,KAAK,CAAC,IAAI,CAACd,IAAI,CAAG,SAAS,CAAE,CAClCe,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,KAAK,CAAEP,IAAI,CAACO,KAAK,CAAEC,QAAQ,CAAER,IAAI,CAACQ,QAAS,CAAC,CACrE,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAAClB,cAAc,CAAC,CAC9B,CAEA;AAAA,GAAAF,GAAA,cAAAC,KAAA,CACA,SAAAqB,WAAWC,KAAK,CAAE,CAChB,MAAO,CAAAX,KAAK,CAAC,IAAI,CAACd,IAAI,CAAG,WAAW,CAAE,CACpCe,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCpB,aAAa,WAAAc,MAAA,CAAYe,KAAK,CAChC,CACF,CAAC,CAAC,CAACH,IAAI,CAAC,IAAI,CAAClB,cAAc,CAAC,CAC9B,CAAC,WAAAR,aAAA,KAGH,GAAM,CAAA8B,IAAI,CAAG,GAAI,CAAA9B,aAAa,CAAC,CAC7BE,OAAO,CAAE,2DACX,CAAC,CAAC,CAEF,cAAe,CAAA4B,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}